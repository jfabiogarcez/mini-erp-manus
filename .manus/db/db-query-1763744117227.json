{
  "query": "DROP TABLE IF EXISTS mensagensWhatsapp;\nDROP TABLE IF EXISTS documentosWhatsapp;\nDROP TABLE IF EXISTS templatesWhatsapp;\nDROP TABLE IF EXISTS conversasWhatsapp;\n\nCREATE TABLE conversasWhatsapp (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  numeroCliente VARCHAR(20) NOT NULL,\n  nomeCliente VARCHAR(255),\n  ultimaMensagem TEXT,\n  dataUltimaMsg TIMESTAMP,\n  statusConversa ENUM('Ativa', 'Arquivada', 'Bloqueada') DEFAULT 'Ativa' NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE mensagensWhatsapp (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  conversaId INT NOT NULL,\n  remetente VARCHAR(50),\n  mensagem TEXT,\n  tipo VARCHAR(50),\n  anexoUrl TEXT,\n  dataEnvio TIMESTAMP,\n  lida INT DEFAULT 0,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  FOREIGN KEY (conversaId) REFERENCES conversasWhatsapp(id) ON DELETE CASCADE\n);\n\nCREATE TABLE templatesWhatsapp (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  titulo VARCHAR(255) NOT NULL,\n  conteudo TEXT,\n  variaveis TEXT,\n  categoria VARCHAR(100),\n  ativo INT DEFAULT 1,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE documentosWhatsapp (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  nome VARCHAR(255) NOT NULL,\n  urlArquivo TEXT,\n  tipoArquivo VARCHAR(100),\n  tamanhoBytes INT,\n  descricao TEXT,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2f4rVt6W4F2723W.9201f73b4a2c --database NEcvB6oGEqtoXUY7x8ussz --execute DROP TABLE IF EXISTS mensagensWhatsapp;\nDROP TABLE IF EXISTS documentosWhatsapp;\nDROP TABLE IF EXISTS templatesWhatsapp;\nDROP TABLE IF EXISTS conversasWhatsapp;\n\nCREATE TABLE conversasWhatsapp (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  numeroCliente VARCHAR(20) NOT NULL,\n  nomeCliente VARCHAR(255),\n  ultimaMensagem TEXT,\n  dataUltimaMsg TIMESTAMP,\n  statusConversa ENUM('Ativa', 'Arquivada', 'Bloqueada') DEFAULT 'Ativa' NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE mensagensWhatsapp (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  conversaId INT NOT NULL,\n  remetente VARCHAR(50),\n  mensagem TEXT,\n  tipo VARCHAR(50),\n  anexoUrl TEXT,\n  dataEnvio TIMESTAMP,\n  lida INT DEFAULT 0,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  FOREIGN KEY (conversaId) REFERENCES conversasWhatsapp(id) ON DELETE CASCADE\n);\n\nCREATE TABLE templatesWhatsapp (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  titulo VARCHAR(255) NOT NULL,\n  conteudo TEXT,\n  variaveis TEXT,\n  categoria VARCHAR(100),\n  ativo INT DEFAULT 1,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE documentosWhatsapp (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  nome VARCHAR(255) NOT NULL,\n  urlArquivo TEXT,\n  tipoArquivo VARCHAR(100),\n  tamanhoBytes INT,\n  descricao TEXT,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 1948
}